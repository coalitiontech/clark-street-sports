var BOLD=BOLD||{};BOLD.BMS=BOLD.BMS||{},BOLD.BMS.BUILDS=BOLD.BMS.BUILDS||{},BOLD.BMS.BUILDS.ProductEs5=function(l){"use strict";var d=null,k={};function I(e,r){e=e||{},d=e.product,l.extend(!0,k,r),q(e),O.init(),S.init(),P.init()}function _(e){V(e)}function q(e){for(var r="",s={},o=0;o<e.blocks.types.length;o++)switch(r=e.blocks.types[o],s=e.blocks.contents[o],r){case"product_video":S.add(s)}}var O=function(){var e={current:null,get value(){return this.current},set value(t){this.current=t},update:function(){var t=document.getElementById("product-select"),n=t.options[t.selectedIndex];this.value=a(n)}};function r(){s(),o(),h(0)}function s(){l("#product-select").on("change",function(){o()}),l(".variant-quantity").on("change",function(){c(e.value)}),l(".variant-container:not(:last-child) input[type=radio]").on("change",function(){h()})}function o(){e.update();var t=e.value;f(t),y(t),c(t)}function f(t){l(".variant-sku").text(t.sku)}function y(t){var n=l(".variant-availability"),u="";t.available?(u=t.allowsOversell?"Available":t.quantity+" Available",n.removeClass("not")):(u="Out of Stock",n.addClass("not"));var i=document.querySelector(".product-form");i&&i.setAttribute("data-quantity",t.quantity),n.text(u)}function c(t){var n=l(".btn.add-to-cart"),u=l(".variant-quantity"),i=l("#isVIPInput"),g=parseInt(u.val())||0,b=g>0,A=g>t.quantity,C=t.available?"Add to Cart":"Out of Stock",E=!t.available||!b||A&&!t.allowsOversell;(!t.available||A&&!t.allowsOversell)&&toastr.warning(window.translations.system_messages.not_enough_products),!b&&g!==0&&toastr.warning(window.translations.system_messages.not_valid_quantity),i||n.val(C).prop("disabled",E)}function p(t){var n=t.dataset.inventoryManagement.toLowerCase(),u=t.dataset.inventoryPolicy.toLowerCase();return BOLD.BMS.Helper.Product.checkOversell(n,u)}function B(t){var n=w(parseInt(t.value));return n&&(n.quantity=parseInt(t.dataset.quantity),n.allowsOversell=p(t)),n}function w(t){return d.variants.find(function(n){return n.id===t})}function h(){var t=document.querySelectorAll(".variant-container option"),n=[];t.forEach(function(i){i.selected&&n.push(i.dataset.name)});var u=m(n);Array.isArray(u)&&u.forEach(function(i){var g=BOLD.BMS.Common.slugify(i.options[i.options.length-1]),b=document.querySelector("[data-handle='"+g+"']");b&&b.setAttribute("data-available",i.available)})}function m(t){return d.options.length===1?d.variants:d.variants.filter(function(n){for(var u=!0,i=0;i<t.length-1;i++)if(n.options[i]!==t[i]){u=!1;break}return u})}function a(t){var n=v(parseInt(t.value));return n&&(n.quantity=parseInt(t.dataset.quantity),n.allowsOversell=p(t)),n}function v(t){return d.variants.find(function(n){return n.id===t})}return{init:r}}(),S=function(){var e={},r=null,s={player:null,done:!1};function o(){m()&&(r=e[d.handle],y())}function f(a){e[a.product_video_target]={isEnabled:a.product_video_enabled,url:a.product_video_url,isAutoplay:a.product_video_autoplay}}function y(){if(!window.YT){var a=BOLD.BMS.Common.createElement("script",{src:"https://www.youtube.com/player_api"}),v=document.getElementsByTagName("script")[0];v.parentNode.insertBefore(a,v)}}window.onYouTubePlayerAPIReady=function(){var a=w(r.url);s.player=new YT.Player("ytplayer",{videoId:a,events:{onReady:c,onStateChange:p}})};function c(a){l(".product-video").show(),r.isAutoplay&&a.target.playVideo()}function p(a){a.data==YT.PlayerState.PLAYING&&!s.done&&(setTimeout(B,6e3),s.done=!0)}function B(){player.stopVideo()}function w(a){var v=a.match(/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/);return v&&v[1]}function h(){}function m(){return e[d.handle]!=null&&e[d.handle].isEnabled}return{init:o,add:f}}(),P=function(){function e(){r.init()}var r=function(){function s(){o()}function o(){var f=1,y=20,c=setInterval(p,200);function p(){typeof l(".products-list").slick=="function"?(clearInterval(c),l(".products-list").slick({dots:!0,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1281,settings:{slidesToShow:3}},{breakpoint:961,settings:{slidesToShow:2}},{breakpoint:769,settings:{slidesToShow:1}}]})):f===y?clearInterval(c):f++}}return{init:s}}();return{init:e}}();function V(e,r){e=e||{};var s=window.location.protocol+"//"+window.location.hostname+window.location.pathname+".js";l.getJSON(s).done(function(o){e.product=o,I(e,r)}).fail(function(o){console.log(o)})}return{init:I,initAsync:_}}(BOLD.jQuery||jQuery);
//# sourceMappingURL=/s/files/1/2242/6395/t/207/assets/bms.product.js.map?v=1643906694
